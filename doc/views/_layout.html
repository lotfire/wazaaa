<!DOCTYPE html><html lang="en"><head><title>views/_layout</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../"><meta name="groc-document-path" content="views/_layout"><meta name="groc-project-path" content="src/views/_layout.jade"><link rel="stylesheet" type="text/css" media="all" href="../assets/style.css"><script type="text/javascript" src="../assets/behavior.js"></script><body><div id="meta"><div class="file-path">src/views/_layout.jade</div></div><div id="document"><div class="segment"><div class="comments "><div class="wrapper"><h1 id="layout-principal">Layout principal</h1></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Mixin factorisant le balisage des liens de navigation</p></div></div><div class="code"><div class="wrapper">mixin <span class="hljs-function"><span class="hljs-title">navlink</span><span class="hljs-params">(linkUrl, glyph, label)</span></span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>La propriété <code>url</code> est mise à disposition des vues par notre petit middleware dans <code>server.js</code>.</p></div></div><div class="code"><div class="wrapper">  li(<span class="hljs-keyword">class</span>= url.startsWith(linkUrl) ? <span class="hljs-string">'active'</span> : <span class="hljs-keyword">null</span>)
    a(href=linkUrl)
      i.glyphicon(<span class="hljs-keyword">class</span>=<span class="hljs-string">"glyphicon-#{glyph}"</span>)
      = <span class="hljs-string">' '</span> + label</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Mixin factorisant le balisage des champs de saisie des tags</p></div></div><div class="code"><div class="wrapper">mixin <span class="hljs-function"><span class="hljs-title">tagField</span><span class="hljs-params">(id)</span></span>
  <span class="hljs-tag">input</span>.<span class="hljs-function"><span class="hljs-title">form-control</span><span class="hljs-params">(id=id name=<span class="hljs-string">"tags"</span> placeholder=<span class="hljs-string">"tag, tag…"</span> value=query.tags data-tags=(tags || [])</span></span>)</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Balisage effectif du layout</p></div></div><div class="code"><div class="wrapper">doctype html
html(lang=<span class="hljs-string">"fr"</span>)
  head
    meta(charset=<span class="hljs-string">"utf-8"</span>)
    title= pageTitle ? pageTitle + <span class="hljs-string">' — '</span> + title : title
    meta(name=<span class="hljs-string">"viewport"</span> content=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>)</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Ces CSS sont produites par Webpack</p></div></div><div class="code"><div class="wrapper">    <span class="hljs-function"><span class="hljs-title">link</span><span class="hljs-params">(rel=<span class="hljs-string">"stylesheet"</span> href=<span class="hljs-string">"/vendor.css"</span>)</span></span>
    <span class="hljs-function"><span class="hljs-title">link</span><span class="hljs-params">(rel=<span class="hljs-string">"stylesheet"</span> href=<span class="hljs-string">"/app.css"</span>)</span></span>
  <span class="hljs-tag">body</span>
    <span class="hljs-class">.container</span>
      <span class="hljs-tag">nav</span><span class="hljs-class">.navbar</span><span class="hljs-class">.navbar-default</span><span class="hljs-class">.navbar-static-top</span>(role=<span class="hljs-string">"navigation"</span>)
        <span class="hljs-class">.navbar-header</span>
          <span class="hljs-tag">a</span>.<span class="hljs-function"><span class="hljs-title">navbar-brand</span><span class="hljs-params">(href=<span class="hljs-string">"/"</span>)</span></span>= title
        <span class="hljs-tag">ul</span><span class="hljs-class">.nav</span><span class="hljs-class">.navbar-nav</span>
          +<span class="hljs-function"><span class="hljs-title">navlink</span><span class="hljs-params">(<span class="hljs-string">'/entries'</span>, <span class="hljs-string">'list'</span>, <span class="hljs-string">'Bookmarks'</span>)</span></span>
        <span class="hljs-keyword">if</span> user
          <span class="hljs-tag">ul</span><span class="hljs-class">.nav</span><span class="hljs-class">.navbar-nav</span><span class="hljs-class">.navbar-right</span>
            +<span class="hljs-function"><span class="hljs-title">navlink</span><span class="hljs-params">(<span class="hljs-string">'/users/logout'</span>, <span class="hljs-string">'log-out'</span>, <span class="hljs-string">'Déconnexion '</span> + user.name)</span></span>
      include _flashes
      block <span class="hljs-attribute">content</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Scripts synchrones à la fin, naturellement.  Ce JS est produit par Webpack.</p></div></div><div class="code"><div class="wrapper">    <span class="hljs-function"><span class="hljs-title">script</span><span class="hljs-params">(src=<span class="hljs-string">"/vendor.js"</span>)</span></span>
    <span class="hljs-function"><span class="hljs-title">script</span><span class="hljs-params">(src=<span class="hljs-string">"/app.js"</span>)</span></span></div></div></div></div></body></html>